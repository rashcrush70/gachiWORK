<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{{url_for('static', filename='css/main.css')}}" rel="stylesheet"/>
    <title>Car Parts Shop</title>
</head>
<body>
    <header>
        <h1>Car Parts Shop</h1>
    </header>
    
    <div id="products-container">
        <div class="product">
            <h3>Engine Oil</h3>
            <p>$25.99</p>
            <button onclick="addToCart(1)">Add to Cart</button>
        </div>
        <div class="product">
            <h3>Brake Pads</h3>
            <p>$35.99</p>
            <button onclick="addToCart(2)">Add to Cart</button>
        </div>
        <div class="product">
            <h3>Air Filter</h3>
            <p>$12.99</p>
            <button onclick="addToCart(3)">Add to Cart</button>
        </div>
    </div>

    <div id="cart-container" style="display:none;">
        <h2>Shopping Cart</h2>
        <ul id="cart"></ul>
        <p>Total: $<span id="total">0.00</span></p>
        <button onclick="checkout()">Checkout</button>
    </div>

    <div id="cart-button-container">
        <button onclick="toggleCart()">View Cart</button>
    </div>

    <footer>
        <p>&copy; 2023 Car Parts Shop</p>
    </footer>

    <script>
        // Sample cart data
        const cart = [];

        // Function to add a product to the cart
        function addToCart(productId) {
            const product = {
                id: productId,
                // Add other product details as needed
            };
            cart.push(product);
            updateCart();
        }

        // Function to update the cart display
        function updateCart() {
            // Implement your cart update logic here
            console.log(cart);
            updateCartDisplay();
        }

        // Function to toggle between product and cart sections
        function toggleCart() {
            const productsContainer = document.getElementById('products-container');
            const cartContainer = document.getElementById('cart-container');
            const cartButtonContainer = document.getElementById('cart-button-container');

            // Toggle visibility
            if (productsContainer.style.display === 'block') {
                productsContainer.style.display = 'none';
                cartContainer.style.display = 'block';
            } else {
                productsContainer.style.display = 'block';
                cartContainer.style.display = 'none';
            }
        }

        // Function to update the cart display
        function updateCartDisplay() {
            const cartContainer = document.getElementById('cart');

            // Clear previous cart items
            cartContainer.innerHTML = '';

            // Check if there are items in the cart
            if (cart.length > 0) {
                // Display each item in the cart
                cart.forEach(item => {
                    const cartItem = document.createElement('li');
                    cartItem.textContent = `${item.name} - $${item.price.toFixed(2)}`;
                    cartContainer.appendChild(cartItem);
                });

                // Calculate and display the total
                const totalPrice = cart.reduce((total, item) => total + item.price, 0);
                document.getElementById('total').textContent = totalPrice.toFixed(2);
            }
        }

        // Function to simulate the checkout process
        function checkout() {
            alert('Thank you for your purchase!');
            cart.length = 0; // Clear the cart
            updateCart();
            toggleCart(); // Hide the cart display after checkout
        }
    </script>
</body>
</html>
